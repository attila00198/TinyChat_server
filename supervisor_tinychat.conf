# Supervisor configuration for TinyChat server
# Place this in: /etc/supervisor/conf.d/tinychat.conf

[program:tinychat]
# Basic program info
directory=/opt/tinychat/chat_server
command=/opt/tinychat/chat_server/venv/bin/python main.py
user=tinychat
environment=PATH="/opt/tinychat/chat_server/venv/bin",HOME="/opt/tinychat"

# Logging
stdout_logfile=/opt/tinychat/chat_server/tinychat.log
stdout_logfile_maxbytes=10485760
stdout_logfile_backups=10
stderr_logfile=/opt/tinychat/chat_server/tinychat_error.log
stderr_logfile_maxbytes=10485760
stderr_logfile_backups=10

# Auto-start and restart
autostart=true
autorestart=true
startsecs=10
stopasgroup=true

# Resource limits (optional)
# stopwaitsecs=10
# priority=999

# Process name
process_name=%(program_name)s
numprocs=1
